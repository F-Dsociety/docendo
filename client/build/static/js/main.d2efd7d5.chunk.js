(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t,n){},67:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),r=n(29),i=n.n(r),o=(n(65),n(66),n(8)),l=n(19),j=n(20),d=n(22),h=n(21),u=(n(67),n(11)),b=n(12),O=n(102),x=n(9),p=n.n(x),m=function(e,t){return p.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},f=function(e){p.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};function v(e){return console.log(e),Object(a.jsxs)("nav",{className:"nav justify-content-end",bg:"primary",children:[Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/",children:"Home"})}),Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/current-lessons",children:"Explore Lessons"})}),e.user?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/dashboard",children:"Dashboard"})}),Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/",onClick:function(){return f(e)},children:"Logout"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/signup",children:"Signup"})}),Object(a.jsx)(O.a.Brand,{children:Object(a.jsx)(b.b,{to:"/login",children:"Login"})})]})]})}var g=n(14),C=n(7),y=n(96),w=n(101),S=n(97);function k(e){var t=e.setUser,n=e.history,c=Object(s.useState)({}),r=Object(C.a)(c,2),i=r[0],l=r[1],j=Object(s.useState)(""),d=Object(C.a)(j,2),h=d[0],u=d[1],b=Object(s.useState)(!1),O=Object(C.a)(b,2),x=O[0],m=O[1],f=function(e){var t=e.target,n=t.name,a=t.value;l(Object(o.a)(Object(o.a)({},i),{},Object(g.a)({},n,a)))},v=function(e){var a;e.preventDefault(),(a=i,p.a.post("/api/auth/signup",a).then((function(e){return e.data})).catch((function(e){return e.response.data}))).then((function(e){e.message?u(e.message):(t(e),n.push("/dashboard"))}))};return Object(a.jsxs)("div",{className:"auth-container",children:[h&&Object(a.jsx)(y.a,{variant:"danger",children:h}),Object(a.jsx)("h2",{children:"Signup"}),Object(a.jsxs)(w.a,{onSubmit:x?function(e){return v(e)}:function(e){e.preventDefault(),m(!0)},children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"username"}),Object(a.jsx)(w.a.Control,{type:"text",name:"username",id:"username",placeholder:"username",value:i.username,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"password"}),Object(a.jsx)(w.a.Control,{type:"password",name:"password",placeholder:"password",id:"password",value:i.password,onChange:f})]}),x&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"firstname",children:"First Name: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"firstname",id:"firstname",value:i.firstname,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"lastname",children:"Last Name: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"lastname",id:"lastname",value:i.lastname,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"email",children:"contact email: "}),Object(a.jsx)(w.a.Control,{type:"email",name:"email",id:"email",value:i.email,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"phone",children:"contact phone: "}),Object(a.jsx)(w.a.Control,{type:"phone",name:"phone",id:"phone",value:i.phone,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"socialNetwork",children:"web/youtube/instagram: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"socialNetwork",id:"socialNetwork",value:i.socialNetwork,onChange:f})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{children:"What you want to do: "}),["teach","learn"].map((function(e){return Object(a.jsx)(w.a.Check,{inline:!0,name:"license",value:e,onChange:f,label:e,type:"radio"})}))]})]}),x?Object(a.jsx)(S.a,{variant:"info",type:"submit",children:"Enter my dashboard"}):Object(a.jsx)(S.a,{variant:"info",type:"submit",children:" Signup"})]})]})}var F=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(g.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,s=n.password;m(a,s).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/dashboard"))}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"auth-container",children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"username"}),Object(a.jsx)(w.a.Control,{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"password"}),Object(a.jsx)(w.a.Control,{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),this.state.message&&Object(a.jsx)(y.a,{variant:"danger",children:this.state.message}),Object(a.jsx)(S.a,{variant:"info",type:"submit",children:"Login"})]})]})}}]),n}(s.Component),L=n(100),N=n(103),B=n(104),H=n(99),G=n(98);function T(e){var t=e.teacher,n=t.firstname,c=t.lastname,r=t._id,i=Object(s.useState)(!1),o=Object(C.a)(i,2),l=o[0],j=o[1],d=Object(s.useState)([]),h=Object(C.a)(d,2),u=h[0],O=h[1];return Object(s.useEffect)((function(){p.a.get("/api/lesson/byTeacher_id/".concat(r)).then((function(e){O(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsxs)(G.a,{children:[Object(a.jsxs)(S.a,{onClick:function(){return j(!0)},children:[n," ",c,". available lessons: ",u.length]}),Object(a.jsxs)(L.a,{size:"lg",show:l,onHide:function(){return j(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsxs)(L.a.Title,{id:"example-modal-sizes-title-lg",children:[n," ",c,". available lessons: ",u.length]})}),Object(a.jsx)(L.a.Body,{children:u.map((function(e){return Object(a.jsxs)("div",{className:"course-container",children:[Object(a.jsx)("h3",{children:Object(a.jsx)(b.b,{to:"/lesson/details/".concat(e._id),children:e.title})}),Object(a.jsx)("p",{children:e.description})]},e._id)}))}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{onClick:function(){return j(!1)},children:"Buy set of lessons"}),Object(a.jsx)(S.a,{onClick:function(){return j(!1)},children:"Book trial lesson"}),Object(a.jsx)(S.a,{onClick:function(){return j(!1)},children:"Close"})]})]})]})}function D(e){var t=e.interest,n=t.title,c=t.description,r=t.propositions,i=Object(s.useState)(!1),o=Object(C.a)(i,2),l=o[0],j=o[1];return Object(a.jsxs)(G.a,{children:[Object(a.jsxs)(S.a,{onClick:function(){return j(!0)},children:[n," available proposition: ",r.length]}),Object(a.jsxs)(L.a,{size:"lg",show:l,onHide:function(){return j(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsxs)(L.a.Title,{id:"example-modal-sizes-title-lg",children:[n," available proposition: ",r.length]})}),Object(a.jsx)(L.a.Body,{children:c}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{variant:"danger",onClick:function(){return j(!1)},children:"Remove"}),Object(a.jsx)(S.a,{onClick:function(){return j(!1)},children:"Close"})]})]})]})}function _(e){var t=e.owner,n=e.getInterests,c=Object(s.useState)(!1),r=Object(C.a)(c,2),i=r[0],l=r[1],j=Object(s.useState)({}),d=Object(C.a)(j,2),h=d[0],u=d[1],b=function(e){var t=e.target,n=t.name,a=t.value;u(Object(o.a)(Object(o.a)({},h),{},Object(g.a)({},n,a)))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{onClick:function(){return l(!0)},children:"request a lesson"}),Object(a.jsxs)(L.a,{show:i,onHide:function(){return l(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsx)(L.a.Title,{children:"Create request for a lesson"})}),Object(a.jsx)(L.a.Body,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(a.jsx)(w.a.Label,{children:"Title"}),Object(a.jsx)(w.a.Control,{type:"text",name:"title",value:h.title,placeholder:"English C1",onChange:b})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{children:"Description"}),Object(a.jsx)(w.a.Control,{as:"textarea",name:"description",value:h.description,onChange:b,rows:3,placeholder:"provide some extended requirements and goals"})]})]})}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{variant:"danger",onClick:function(){return l(!1)},children:"Cancel"}),Object(a.jsx)(S.a,{variant:"success",onClick:function(e){e.preventDefault(),p.a.put("/api/dashboard/interests",Object(o.a)(Object(o.a)({},h),{},{owner:t})).then((function(e){l(!1),n()})).catch((function(e){console.log(e.response.data)}))},children:"Create"})]})]})]})}function E(e){var t,n,c=e.data,r=void 0===c?{}:c,i=Object(s.useState)([]),o=Object(C.a)(i,2),l=o[0],j=o[1],d=Object(s.useState)([]),h=Object(C.a)(d,2),u=h[0],b=h[1];function O(){p.a.post("/api/dashboard/interests_list",{id:r._id}).then((function(e){return b(e.data||[])})).catch((function(e){return e.response}))}return Object(s.useEffect)((function(){p.a.post("/api/dashboard/teachers_list",{}).then((function(e){return j(e.data||[])})).catch((function(e){return e.response.data})),O()}),[]),Object(a.jsxs)(N.a,{defaultActiveKey:"0",children:[Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"0",children:"My teachers"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"0",children:Object(a.jsx)(B.a.Body,{className:"d-flex-column",children:Object(a.jsx)(H.a,{children:(null===(t=r.teachersList)||void 0===t?void 0:t.length)?r.teachersList.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no teachers yet"})})})})]}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"1",children:"My lessons"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"1",children:Object(a.jsx)(B.a.Body,{children:(null===(n=r.lessons)||void 0===n?void 0:n.length)?r.lessons.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no lessons yet"})})})]}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"2",children:"Interests list"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"2",children:Object(a.jsxs)(B.a.Body,{children:[u.length?u.map((function(e){return Object(a.jsx)(D,{interest:e})})):Object(a.jsx)("div",{children:"no interests yet"}),Object(a.jsx)(_,{getInterests:O,owner:r._id})]})})]}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"3",children:"All teachers list"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"3",children:Object(a.jsx)(B.a.Body,{children:l.length?l.map((function(e){return Object(a.jsx)(T,{teacher:e})})):Object(a.jsx)("div",{children:"no teachers yet"})})})]})]})}function K(e){var t=e.lesson,n=t.title,c=t.description,r=t.materials,i=t._id,o=Object(s.useState)(!1),l=Object(C.a)(o,2),j=l[0],d=l[1];return Object(a.jsxs)(G.a,{children:[Object(a.jsx)(b.b,{to:"/lesson/details/".concat(i),children:n}),Object(a.jsxs)(L.a,{size:"lg",show:j,onHide:function(){return d(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsxs)(L.a.Title,{id:"example-modal-sizes-title-lg",children:[n," available matherials: ",r.length]})}),Object(a.jsx)(L.a.Body,{children:c}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{variant:"danger",onClick:function(){return d(!1)},children:"Remove"}),Object(a.jsx)(S.a,{variant:"warning",onClick:function(){return d(!1)},children:"Edit"}),Object(a.jsx)(S.a,{onClick:function(){return d(!1)},children:"Close"})]})]})]})}function U(e){var t=e.getLessons,n=e.owner,c=Object(s.useState)(!1),r=Object(C.a)(c,2),i=r[0],l=r[1],j=Object(s.useState)({}),d=Object(C.a)(j,2),h=d[0],u=d[1],b=function(e){var t=e.target,n=t.name,a=t.value;u(Object(o.a)(Object(o.a)({},h),{},Object(g.a)({},n,a)))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{onClick:function(){return l(!0)},children:"create a lesson"}),Object(a.jsxs)(L.a,{show:i,onHide:function(){return l(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsx)(L.a.Title,{children:"Create  a lesson"})}),Object(a.jsx)(L.a.Body,{children:Object(a.jsxs)(w.a,{children:[Object(a.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(a.jsx)(w.a.Label,{children:"Title"}),Object(a.jsx)(w.a.Control,{type:"text",name:"title",value:h.title,placeholder:"English C1",onChange:b})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{children:"Description"}),Object(a.jsx)(w.a.Control,{as:"textarea",name:"description",value:h.description,onChange:b,rows:3,placeholder:"provide some extended requirements and goals"})]})]})}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{variant:"danger",onClick:function(){return l(!1)},children:"Cancel"}),Object(a.jsx)(S.a,{variant:"success",onClick:function(e){e.preventDefault(),p.a.post("/api/lesson/",Object(o.a)(Object(o.a)({},h),{},{owner:n})).then((function(e){l(!1),t()})).catch((function(e){console.log(e.response.data)}))},children:"Create"})]})]})]})}function I(e){var t=e.id,n=(e.teacher_id,e.lessons),c=Object(s.useState)(!1),r=Object(C.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)({}),j=Object(C.a)(l,2),d=j[0],h=j[1];return Object(s.useEffect)((function(){p.a.post("/api/dashboard/student/".concat(t)).then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsxs)(G.a,{children:[Object(a.jsxs)(S.a,{onClick:function(){return o(!0)},children:[d.firstname," ",d.lastname]}),Object(a.jsxs)(L.a,{size:"lg",show:i,onHide:function(){return o(!1)},children:[Object(a.jsx)(L.a.Header,{closeButton:!0,children:Object(a.jsxs)(L.a.Title,{id:"example-modal-sizes-title-lg",children:[d.firstname," ",d.lastname]})}),Object(a.jsxs)(L.a.Body,{children:[Object(a.jsxs)("p",{children:["social network: ",d.socialNetwork]}),Object(a.jsxs)("p",{children:["phone: ",d.phone]}),"booked lessons",Object(a.jsx)("ul",{children:d.lessons&&d.lessons.filter((function(e){return n.includes(e.lesson)})).map((function(e){return Object(a.jsxs)("li",{children:[e.date," ",e.comments]})}))})]}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{onClick:function(){return o(!1)},children:"Contact"}),Object(a.jsx)(S.a,{onClick:function(){return o(!1)},children:"Close"})]})]})]})}function A(e){var t=e.data,n=Object(s.useState)([]),c=Object(C.a)(n,2),r=c[0],i=c[1],o=Object(s.useState)([]),l=Object(C.a)(o,2);l[0],l[1];function j(){p.a.get("/api/lesson/byTeacher_id/".concat(t._id)).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}function j(){p.a.get("/api/lesson/byTeacher_id/".concat(t._id)).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}return console.log(t),Object(s.useEffect)((function(){j()}),[]),Object(s.useEffect)((function(){j()}),[]),Object(a.jsxs)("div",{className:"teacher-index-container",children:[Object(a.jsxs)("h2",{children:["Hi ",t.firstname]}),Object(a.jsxs)(N.a,{defaultActiveKey:"0",children:[Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"0",children:"Your students"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"0",children:Object(a.jsx)(B.a.Body,{class:"card-body",children:t.studentsList.length?Array.from(new Set(t.studentsList)).map((function(e){return Object(a.jsx)(I,{lessons:r.map((function(e){return e._id})),id:e,teacher_id:t._id})})):Object(a.jsx)("div",{children:"no students yet"})})})]}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"1",children:"Your lessons"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"1",children:Object(a.jsxs)(B.a.Body,{children:[r.length?r.map((function(e){return Object(a.jsx)(K,{lesson:e})})):Object(a.jsx)("div",{children:"No lessons yet"}),Object(a.jsx)(U,{getLessons:j,owner:t._id})]})})]}),Object(a.jsxs)(B.a,{children:[Object(a.jsx)(B.a.Header,{children:Object(a.jsx)(N.a.Toggle,{as:S.a,variant:"link",eventKey:"2",children:"Your responses"})}),Object(a.jsx)(N.a.Collapse,{eventKey:"2",children:Object(a.jsx)(B.a.Body,{children:t.responces.length?t.responces.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no responses yet"})})})]})]})]})}function z(e){var t=e.user,n=Object(s.useState)(!0),c=Object(C.a)(n,2),r=c[0],i=c[1],o=Object(s.useState)(null),l=Object(C.a)(o,2),j=l[0],d=l[1];return console.log(t),Object(a.jsxs)("div",{className:"projects-container",children:[Object(a.jsxs)(L.a,{show:r,onHide:function(){return i(!1)},children:[Object(a.jsx)(L.a.Header,{children:Object(a.jsxs)(L.a.Title,{children:["Hi ",function(){return t.teach?t.teach.firstname:t.learn.firstname}," ! What would you like to do today"]})}),Object(a.jsxs)(L.a.Footer,{className:"d-flex justify-content-around",children:[Object(a.jsx)(S.a,{variant:"info",onClick:function(){d("teach"),i(!1)},children:"Teach"}),Object(a.jsx)(S.a,{variant:"primary",onClick:function(){d("learn"),i(!1)},children:"Learn"})]})]}),j&&Object(a.jsx)(a.Fragment,{children:"teach"===j?t.teach?Object(a.jsx)(A,{data:t.teach}):Object(a.jsx)(u.a,{to:"/addlicense/teach"}):t.learn?Object(a.jsx)(E,{data:t.learn}):Object(a.jsx)(u.a,{to:"/addlicense/learn"})})]})}var P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Edit your class"}),Object(a.jsxs)(w.a,{onSubmit:this.props.handleSubmit,children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"title",children:"Title: "}),Object(a.jsx)(w.a.Control,{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"description",children:"Description: "}),Object(a.jsx)(w.a.Control,{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange})]}),Object(a.jsx)(S.a,{variant:"info",type:"submit",children:"Update Project"})]})]})}}]),n}(s.Component),q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={details:{}},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState({details:Object(o.a)(Object(o.a)({},e.state.details),{},Object(g.a)({},a,s))})},e.handleSubmit=function(t){t.preventDefault(),p.a.post("/api/lesson/book",{details:e.state.details,lesson:e.props.lesson,user:e.props.user}).then((function(t){alert("lesson is booked"),e.props.cancel()})).catch((function(e){console.log(e)}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Schedule your class"}),Object(a.jsxs)(w.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"date",children:"Date: "}),Object(a.jsx)(w.a.Control,{type:"date",id:"date",name:"date",value:this.state.details.date,onChange:this.handleChange})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"comments",children:"Comments: "}),Object(a.jsx)(w.a.Control,{type:"text",id:"comments",name:"comments",value:this.state.details.comments,onChange:this.handleChange})]}),Object(a.jsxs)(G.a,{className:"justify-content-around",children:[Object(a.jsx)(S.a,{variant:"danger",onClick:this.props.cancel,children:"Cancel"}),Object(a.jsx)(S.a,{type:"submit",children:"Confirm"})]})]})]})}}]),n}(s.Component),M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={lesson:null,editForm:!1,error:null,showScheduleItForm:!1,id:e.props.match.params.id},e.getData=function(){p.a.get("/api/lesson/".concat(e.state.id)).then((function(t){console.log(t),e.setState({lesson:t.data})})).catch((function(t){console.log(t.response),404===t.response.status&&e.setState({error:"Sorry - Project Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},e.componentDidMount=function(){e.getData()},e.deleteProject=function(){p.a.delete("/api/lesson/".concat(e.state.id)).then((function(){e.props.history.push("/current-lessons/")}))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.toggleScheduleFrom=function(){e.setState({showScheduleItForm:!e.state.showScheduleItForm})},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(g.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.props.match.params.id;p.a.put("/api/lesson/".concat(n),{title:e.state.title,description:e.state.description}).then((function(t){e.setState({project:t.data,title:t.data.title,description:t.data.description,editForm:!1})})).catch((function(e){console.log(e)}))},e}return Object(j.a)(n,[{key:"render",value:function(){if(this.state.error)return Object(a.jsx)("h1",{children:this.state.error});if(!this.state.lesson)return Object(a.jsx)("h1",{children:"Loading..."});var e=!1,t=this.props.user,n=this.state.lesson,s=n.title,c=n.description,r=n.owner;return t.teach?t&&t.teach._id===r._id&&(e=!0):e=!1,console.log(t,r),Object(a.jsxs)("div",{className:"lesson-details-container",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:s}),Object(a.jsxs)("h3",{children:["by ",r.firstname]}),Object(a.jsx)("p",{children:c})]}),e&&Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{variant:"danger",onClick:this.deleteProject,children:"Delete"}),Object(a.jsx)(S.a,{variant:"info",onClick:this.toggleEditForm,children:"Edit"}),this.state.editForm&&Object(a.jsx)(P,Object(o.a)(Object(o.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit}))]}),!e&&Object(a.jsx)("div",{children:this.state.showScheduleItForm?Object(a.jsx)(q,{user:this.props.user,lesson:this.state.lesson,cancel:this.toggleScheduleFrom}):Object(a.jsx)(S.a,{variant:"light",onClick:this.toggleScheduleFrom,children:"Schedule it"})})]})}}]),n}(s.Component),Y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={lessons:[]},e.getData=function(){p.a.get("/api/lesson").then((function(t){console.log(t),e.setState({lessons:t.data})})).catch((function(t){404===t.response.status&&e.setState({error:"Not found"})}))},e.componentDidMount=function(){e.getData()},e}return Object(j.a)(n,[{key:"render",value:function(){return console.log(this.props),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Explore Lessons"}),Object(a.jsx)("div",{className:"current-courses-container",children:this.state.lessons.map((function(e){return Object(a.jsxs)("div",{className:"course-container",children:[Object(a.jsx)("h3",{children:Object(a.jsx)(b.b,{to:"/lesson/details/".concat(e._id),children:e.title})}),Object(a.jsx)("p",{children:e.description})]},e._id)}))})]})}}]),n}(s.Component);function J(e){var t=e.setUser,n=e.history,c=e.user,r=Object(u.f)().license,i=c.username,l=c.password,j=c["teach"===r?"learn":"teach"],d=j.firstname,h=j.lastname,b=j.email,O=j.phone,x=j.socialNetwork,m=Object(s.useState)({username:i,password:l,firstname:d,lastname:h,email:b,phone:O,socialNetwork:x,license:r}),f=Object(C.a)(m,2),v=f[0],k=f[1],F=Object(s.useState)(""),L=Object(C.a)(F,2),N=L[0],B=L[1],H=function(e){var t=e.target,n=t.name,a=t.value;k(Object(o.a)(Object(o.a)({},v),{},Object(g.a)({},n,a)))},G=function(e){var a;e.preventDefault(),(a=v,p.a.post("/api/auth/addlicense",a).then((function(e){return e.data})).catch((function(e){return e.response.data}))).then((function(e){e.message?(B(e.message),k({})):(t(e),n.push("/dashboard"))}))};return Object(a.jsxs)(a.Fragment,{children:[N&&Object(a.jsx)(y.a,{variant:"danger",children:N}),Object(a.jsx)("h2",{children:"Add new license"}),Object(a.jsxs)(w.a,{onSubmit:function(e){return G(e)},children:[Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"firstname",children:"First Name: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"firstname",id:"firstname",value:v.firstname,onChange:H})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"lastname",children:"Last Name: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"lastname",id:"lastname",value:v.lastname,onChange:H})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"email",children:"contact email: "}),Object(a.jsx)(w.a.Control,{type:"email",name:"email",id:"email",value:v.email,onChange:H})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"phone",children:"contact phone: "}),Object(a.jsx)(w.a.Control,{type:"phone",name:"phone",id:"phone",value:v.phone,onChange:H})]}),Object(a.jsxs)(w.a.Group,{children:[Object(a.jsx)(w.a.Label,{htmlFor:"socialNetwork",children:"web/youtube/instagram: "}),Object(a.jsx)(w.a.Control,{type:"text",name:"socialNetwork",id:"socialNetwork",value:v.socialNetwork,onChange:H})]}),Object(a.jsx)(S.a,{type:"submit",children:"Add new license"})]})]})}var R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(v,{user:this.state.user,setUser:this.setUser,className:"nav-bar"}),Object(a.jsxs)("div",{className:"Body",children:[Object(a.jsx)("div",{className:"docendo-title",children:Object(a.jsx)("h1",{children:"Docendo"})}),Object(a.jsx)("div",{})]}),Object(a.jsx)(u.b,{exact:!0,path:"/dashboard",render:function(t){return e.state.user?Object(a.jsx)(z,Object(o.a)(Object(o.a)({},t),{},{user:e.state.user})):Object(a.jsx)(u.a,{to:"/"})}}),Object(a.jsx)(u.b,{exact:!0,path:"/current-lessons/",render:function(t){return Object(a.jsx)(Y,Object(o.a)(Object(o.a)({},t),{},{user:e.state.user}))}}),Object(a.jsx)(u.b,{exact:!0,path:"/lesson/details/:id",render:function(t){return Object(a.jsx)(M,Object(o.a)({setUser:e.setUser,user:e.state.user},t))}}),Object(a.jsx)(u.b,{exact:!0,path:"/signup",render:function(t){return Object(a.jsx)(k,Object(o.a)({setUser:e.setUser},t))}}),Object(a.jsx)(u.b,{exact:!0,path:"/login",render:function(t){return Object(a.jsx)(F,Object(o.a)({setUser:e.setUser},t))}}),Object(a.jsx)(u.b,{exact:!0,path:"/addlicense/:license",render:function(t){return Object(a.jsx)(J,Object(o.a)({user:e.state.user,setUser:e.setUser},t))}})]})}}]),n}(c.a.Component),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};p.a.get("/api/auth/loggedin").then((function(e){var t=e.data;i.a.render(Object(a.jsx)(b.a,{children:Object(a.jsx)(R,{user:t})}),document.getElementById("root"))})),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.d2efd7d5.chunk.js.map