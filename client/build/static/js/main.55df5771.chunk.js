(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{58:function(e,t,n){},60:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),r=n.n(s),c=n(26),i=n.n(c),o=(n(58),n(59),n(13)),j=n(17),l=n(18),h=n(20),d=n(19),u=(n.p,n(60),n(92)),b=n(93),p=n(89),O=n(11),x=n.n(O),m=n(15);var g=n(16),f=n(90);s.Component;function v(e){var t=e.user;return Object(a.jsxs)("div",{className:"projects-container",children:["hi ",t.teach.firstname,Object(a.jsxs)(u.a,{defaultActiveKey:"0",children:[Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Header,{children:Object(a.jsx)(u.a.Toggle,{as:p.a,variant:"link",eventKey:"0",children:"Students list"})}),Object(a.jsx)(u.a.Collapse,{eventKey:"0",children:Object(a.jsx)(b.a.Body,{children:t.teach.studentsList.length?t.teach.studentsList.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no students yet"})})})]}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Header,{children:Object(a.jsx)(u.a.Toggle,{as:p.a,variant:"link",eventKey:"1",children:"Lessons list"})}),Object(a.jsx)(u.a.Collapse,{eventKey:"1",children:Object(a.jsx)(b.a.Body,{children:t.teach.lessons.length?t.teach.lessons.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no lessons yet"})})})]}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Header,{children:Object(a.jsx)(u.a.Toggle,{as:p.a,variant:"link",eventKey:"2",children:"Responces list"})}),Object(a.jsx)(u.a.Collapse,{eventKey:"2",children:Object(a.jsx)(b.a.Body,{children:t.teach.responces.length?t.teach.responces.map((function(e){return Object(a.jsx)("div",{})})):Object(a.jsx)("div",{children:"no responces yet"})})})]})]})]})}var y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Edit project"}),Object(a.jsxs)(f.a,{onSubmit:this.props.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"title",children:"Title: "}),Object(a.jsx)(f.a.Control,{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"description",children:"Description: "}),Object(a.jsx)(f.a.Control,{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange})]}),Object(a.jsx)(p.a,{type:"submit",children:"Update Project"})]})]})}}]),n}(s.Component),C=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={project:null,editForm:!1,error:null,title:"",description:""},e.getData=function(){var t=e.props.match.params.id;x.a.get("/api/projects/".concat(t)).then((function(t){console.log(t),e.setState({project:t.data,title:t.data.title,description:t.data.description})})).catch((function(t){console.log(t.response),404===t.response.status&&e.setState({error:"Sorry - Project Not found \ud83e\udd37\u200d\u2640\ufe0f \ud83e\udd37\u200d\u2642\ufe0f"})}))},e.componentDidMount=function(){e.getData()},e.deleteProject=function(){var t=e.props.match.params.id;x.a.delete("/api/projects/".concat(t)).then((function(){e.props.history.push("/projects")}))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(g.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.props.match.params.id;x.a.put("/api/projects/".concat(n),{title:e.state.title,description:e.state.description}).then((function(t){e.setState({project:t.data,title:t.data.title,description:t.data.description,editForm:!1})})).catch((function(e){console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){if(this.state.error)return Object(a.jsx)("h1",{children:this.state.error});if(!this.state.project)return Object(a.jsx)("h1",{children:"Loading..."});var e=!1,t=this.props.user,n=this.state.project.owner;return t&&t._id===n&&(e=!0),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:this.state.project.title}),Object(a.jsx)("p",{children:this.state.project.description}),e&&Object(a.jsx)(p.a,{variant:"danger",onClick:this.deleteProject,children:"Delete Project"}),Object(a.jsx)(p.a,{onClick:this.toggleEditForm,children:"Show Edit Form"}),this.state.editForm&&Object(a.jsx)(y,Object(o.a)(Object(o.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit}))]})}}]),n}(s.Component),w=n(34),F=n(94),S=function(e,t){return x.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))};function L(e){var t=e.setUser,n=e.history,r=Object(s.useState)({}),c=Object(w.a)(r,2),i=c[0],j=c[1],l=Object(s.useState)(""),h=Object(w.a)(l,2),d=h[0],u=h[1],b=Object(s.useState)(!1),O=Object(w.a)(b,2),m=O[0],v=O[1],y=function(e){var t=e.target,n=t.name,a=t.value;j(Object(o.a)(Object(o.a)({},i),{},Object(g.a)({},n,a)))},C=function(e){var a;e.preventDefault(),(a=i,x.a.post("/api/auth/signup",a).then((function(e){return e.data})).catch((function(e){return e.response.data}))).then((function(e){e.message?(u(e.message),j({})):(t(e),n.push("/dashboard"))}))};return Object(a.jsxs)(a.Fragment,{children:[d&&Object(a.jsx)(F.a,{variant:"danger",children:d}),Object(a.jsx)("h2",{children:"Signup"}),Object(a.jsxs)(f.a,{onSubmit:m?function(e){return C(e)}:function(e){e.preventDefault(),v(!0)},children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"username",children:"Username: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"username",id:"username",value:i.username,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"password",children:"Password: "}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",id:"password",value:i.password,onChange:y})]}),m&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"firstname",children:"First Name: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"firstname",id:"firstname",value:i.firstname,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"firstname",children:"Last Name: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"lastname",id:"lastname",value:i.lastname,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"email",children:"contact email: "}),Object(a.jsx)(f.a.Control,{type:"email",name:"email",id:"email",value:i.email,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"phone",children:"contact phone: "}),Object(a.jsx)(f.a.Control,{type:"phone",name:"phone",id:"phone",value:i.phone,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"socialNetwork",children:"web/youtube/instagram: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"socialNetwork",id:"socialNetwork",value:i.socialNetwork,onChange:y})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{children:"What you want to do: "}),["teach","learn"].map((function(e){return Object(a.jsx)(f.a.Check,{inline:!0,name:"license",value:e,onChange:y,label:e,type:"radio"})}))]})]}),m?Object(a.jsx)(p.a,{type:"submit",children:"Enter my dashboard"}):Object(a.jsx)(p.a,{type:"submit",children:" Signup"})]})]})}var k=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",message:""},e.handleChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(g.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,s=n.password;S(a,s).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/dashboard"))}))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Login"}),Object(a.jsxs)(f.a,{onSubmit:this.handleSubmit,children:[Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"username",children:"Username: "}),Object(a.jsx)(f.a.Control,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username"})]}),Object(a.jsxs)(f.a.Group,{children:[Object(a.jsx)(f.a.Label,{htmlFor:"password",children:"Password: "}),Object(a.jsx)(f.a.Control,{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password"})]}),this.state.message&&Object(a.jsx)(F.a,{variant:"danger",children:this.state.message}),Object(a.jsx)(p.a,{type:"submit",children:"Login"})]})]})}}]),n}(s.Component),U=n(91),G=function(e){console.log(e),x.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};function B(e){return Object(a.jsxs)(U.a,{className:"nav justify-content-end",bg:"primary",children:[Object(a.jsx)(U.a.Brand,{children:Object(a.jsx)(m.b,{to:"/",children:"Home"})}),e.user?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U.a.Brand,{children:Object(a.jsx)(m.b,{to:"/projects",children:"Projects"})}),Object(a.jsx)(U.a.Brand,{children:Object(a.jsx)(m.b,{to:"/",onClick:function(){return G(e)},children:"Logout"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(U.a.Brand,{children:Object(a.jsx)(m.b,{to:"/signup",children:"Signup"})}),Object(a.jsx)(U.a.Brand,{children:Object(a.jsx)(m.b,{to:"/login",children:"Login"})})]})]})}var D=n(6),N=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(B,{user:this.state.user,setUser:this.setUser}),Object(a.jsx)(D.b,{exact:!0,path:"/dashboard",render:function(t){return e.state.user?Object(a.jsx)(v,Object(o.a)(Object(o.a)({},t),{},{user:e.state.user})):Object(a.jsx)(D.a,{to:"/"})}}),Object(a.jsx)(D.b,{exact:!0,path:"/projects/:id",render:function(t){return Object(a.jsx)(C,Object(o.a)({user:e.state.user},t))}}),Object(a.jsx)(D.b,{exact:!0,path:"/signup",render:function(t){return Object(a.jsx)(L,Object(o.a)({setUser:e.setUser},t))}}),Object(a.jsx)(D.b,{exact:!0,path:"/login",render:function(t){return Object(a.jsx)(k,Object(o.a)({setUser:e.setUser},t))}})]})}}]),n}(r.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};x.a.get("/api/auth/loggedin").then((function(e){var t=e.data;i.a.render(Object(a.jsx)(m.a,{children:Object(a.jsx)(N,{user:t})}),document.getElementById("root"))})),P()}},[[87,1,2]]]);
//# sourceMappingURL=main.55df5771.chunk.js.map